<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>这么多年你还在怕正则吗？ | 学习笔记</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/space/assets/css/0.styles.44c8a9cb.css" as="style"><link rel="preload" href="/space/assets/js/app.c334109e.js" as="script"><link rel="preload" href="/space/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/space/assets/js/13.e25e3787.js" as="script"><link rel="prefetch" href="/space/assets/js/10.d3dbcd01.js"><link rel="prefetch" href="/space/assets/js/11.419a1f1a.js"><link rel="prefetch" href="/space/assets/js/12.b9c16781.js"><link rel="prefetch" href="/space/assets/js/14.b4f61ea2.js"><link rel="prefetch" href="/space/assets/js/15.bebbaa9f.js"><link rel="prefetch" href="/space/assets/js/16.c43e8ad7.js"><link rel="prefetch" href="/space/assets/js/17.f2e1347b.js"><link rel="prefetch" href="/space/assets/js/18.5d362097.js"><link rel="prefetch" href="/space/assets/js/19.efd9e707.js"><link rel="prefetch" href="/space/assets/js/20.19342614.js"><link rel="prefetch" href="/space/assets/js/21.c4132e43.js"><link rel="prefetch" href="/space/assets/js/22.c8d95e73.js"><link rel="prefetch" href="/space/assets/js/23.9a276b89.js"><link rel="prefetch" href="/space/assets/js/24.90abfcc9.js"><link rel="prefetch" href="/space/assets/js/25.1da64438.js"><link rel="prefetch" href="/space/assets/js/26.e8493b44.js"><link rel="prefetch" href="/space/assets/js/27.7b13507c.js"><link rel="prefetch" href="/space/assets/js/3.40aa7a3d.js"><link rel="prefetch" href="/space/assets/js/4.da3ef268.js"><link rel="prefetch" href="/space/assets/js/5.dac787d8.js"><link rel="prefetch" href="/space/assets/js/6.820ab661.js"><link rel="prefetch" href="/space/assets/js/7.b04aeb28.js"><link rel="prefetch" href="/space/assets/js/8.8733fc27.js"><link rel="prefetch" href="/space/assets/js/9.76eb16d3.js">
    <link rel="stylesheet" href="/space/assets/css/0.styles.44c8a9cb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/space/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/space/blog/" aria-current="page" class="sidebar-link">简介</a></li><li><a href="/space/blog/15.html" class="sidebar-link">🐵好让人傻傻分不清—JS篇</a></li><li><a href="/space/blog/14.html" class="sidebar-link">🐭好让人傻傻分不清—DOM篇</a></li><li><a href="/space/blog/13.html" class="sidebar-link">🐯好让人傻傻分不清—CSS篇</a></li><li><a href="/space/blog/12.html" aria-current="page" class="active sidebar-link">这么多年你还在怕正则吗？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/space/blog/12.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/space/blog/12.html#为啥要用正则表达式" class="sidebar-link">为啥要用正则表达式</a></li><li class="sidebar-sub-header"><a href="/space/blog/12.html#正则的核心" class="sidebar-link">正则的核心</a></li><li class="sidebar-sub-header"><a href="/space/blog/12.html#正则表达式相关-api" class="sidebar-link">正则表达式相关 API</a></li><li class="sidebar-sub-header"><a href="/space/blog/12.html#小试牛刀" class="sidebar-link">小试牛刀</a></li><li class="sidebar-sub-header"><a href="/space/blog/12.html#结束语" class="sidebar-link">结束语</a></li></ul></li><li><a href="/space/blog/11.html" class="sidebar-link">来用Vite+React快速开发浏览器插件</a></li><li><a href="/space/blog/10.html" class="sidebar-link">众所周知的浏览器调试操作</a></li><li><a href="/space/blog/9.html" class="sidebar-link">简单的元素滚动组件</a></li><li><a href="/space/blog/8.html" class="sidebar-link">来一个简单二维码生成器</a></li><li><a href="/space/blog/7.html" class="sidebar-link">用 CSS 找回童年的快乐，哆啦A梦伴你同行</a></li><li><a href="/space/blog/6.html" class="sidebar-link">520， 学废 new 对象的过程</a></li><li><a href="/space/blog/5.html" class="sidebar-link">这个&quot;this&quot;到底是什么</a></li><li><a href="/space/blog/4.html" class="sidebar-link">10 分钟掌握浏览器运行 JS 的顺序</a></li><li><a href="/space/blog/3.html" class="sidebar-link">防抖节流看这篇就够了</a></li><li><a href="/space/blog/2.html" class="sidebar-link">是时候用闭包实现一个缓存函数了</a></li><li><a href="/space/blog/1.html" class="sidebar-link">不得不知的闭包</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="这么多年你还在怕正则吗"><a href="#这么多年你还在怕正则吗" class="header-anchor">#</a> 这么多年你还在怕正则吗？</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>不会吧不会吧，这么多年你还在怕正则？这就对了，相信你用不了几分钟看完本文，从此正则算个球。</p> <h2 id="为啥要用正则表达式"><a href="#为啥要用正则表达式" class="header-anchor">#</a> 为啥要用正则表达式</h2> <p>俗话说的好，万事开头难。面对火星文似的正则，就是这样的感觉。那么，我们一起来开个头先。
假设我们需要验证一个字符串是否遵循 8 位数字的电话号码格式：000-12345，该格式前面有 3 位数字，然后紧跟着连字符-，连字符后面再跟着 5 位数字。</p> <h3 id="不使用正则"><a href="#不使用正则" class="header-anchor">#</a> 不使用正则</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isTelephoneNumber</span><span class="token punctuation">(</span><span class="token parameter">telephoneNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> telephoneNumber <span class="token operator">!==</span> <span class="token string">'string'</span> <span class="token operator">||</span> telephoneNumber<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> telephoneNumber<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> c <span class="token operator">=</span> telephoneNumber<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
			<span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token number">8</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token number">9</span><span class="token operator">:</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">&lt;</span> <span class="token string">'0'</span> <span class="token operator">||</span> c <span class="token operator">&gt;</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token boolean">false</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">break</span>
			<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">!==</span> <span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token boolean">false</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">break</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用正则"><a href="#使用正则" class="header-anchor">#</a> 使用正则</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isTelephoneNumber</span><span class="token punctuation">(</span><span class="token parameter">telephoneNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d{3}-\d{5}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>telephoneNumber<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/28a1606f8ef541258075925ed97ec813~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"> 我的天，使用正则代码变得如此简洁优雅，老板再也不用担心我的代码。</p> <h2 id="正则的核心"><a href="#正则的核心" class="header-anchor">#</a> 正则的核心</h2> <p><strong>正则就是匹配模式，要么匹配位置，要么匹配字符。划重点，牢记这个核心。</strong> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d0f385ac4d942b491276a9296570572~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png">
上图代表的是一个字符串：<code>I Love U</code>，箭头就表示我们要匹配的位置，框框里就表示我们要匹配的字符(包括空格)。相信小伙伴们一眼就看明白了。</p> <h3 id="匹配位置"><a href="#匹配位置" class="header-anchor">#</a> 匹配位置</h3> <p>正则中可以匹配位置的方式如下：</p> <table><thead><tr><th>模式</th> <th>重要说明</th></tr></thead> <tbody><tr><td>^</td> <td>匹配开头的位置，当正则有修饰符 m 时(多行文本)，表示匹配行开头位置。</td></tr> <tr><td>$</td> <td>匹配结尾的位置，当正则有修饰符 m 时(多行文本)，表示匹配行结尾位置。</td></tr> <tr><td>\b</td> <td>匹配单词边界，即匹配上面示例中的 i、love、U 前后的位置</td></tr> <tr><td>\B</td> <td>匹配非单词边界，与 \b 相反，即匹配上面示例中的 o、v、e 前后的位置</td></tr> <tr><td>(?=表达式)</td> <td><strong>正向先行断言</strong>：<code>(?=表达式)</code>，指在某个位置的右侧必须能匹配表达式。例如： 给定字符串<code>我爱你 我爱他 我爱 爱你 我和你</code>，匹配右边是“你”的位置。正则可以这么写: <code>/(?=你)/g</code><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a1e6ac95448744819ba1d1367b5a36cd~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png">如果非要加上“爱”，<code>/爱(?=你)/g</code>，就会匹配出<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82445c72747f4995a30adffa7a8814ca~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></td></tr> <tr><td>(?!表达式)</td> <td><strong>反向先行断言</strong>：<code>(?!表达式)</code>，指在某个位置的右侧不能匹配表达式。与 <code>(?=表达式)</code>正好相反。同样是上面的例子:<code>/爱(?!你)/g</code>，就会匹配出<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1527157c8d6a4e82a0e1d627c0ba6f39~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></td></tr> <tr><td>(?&lt;=表达式)</td> <td><strong>正向后行断言</strong>：<code>(?&lt;=表达式)</code>，指在某个位置的左侧必须能匹配表达式。<strong>注意: 先行断言和后行断言只有一个区别，即先行断言从左往右看，后行断言从右往左看。</strong></td></tr> <tr><td>(?&lt;!表达式)</td> <td><strong>反向后行断言：</strong><code>(?&lt;!表达式)</code>，指在某个位置的左侧不能匹配表达式。</td></tr></tbody></table> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ac2a6fd973c404dbb884490b9818503~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png">就一张表格，so easy，位置匹配就介绍完了。接下来我们看几个问题巩固一下。请听题：
<code>test()</code> 方法执行一个检索，用来查看正则表达式与指定的字符串是否匹配。返回 true 或 false。</p> <ol><li><strong>第一题</strong></li></ol> <blockquote><ol><li>匹配以 javascript 开头的字符串</li> <li>匹配以 javascript 结尾的字符串</li></ol></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^javascript</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'javascript is my favorite'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>

<span class="token operator">/</span>javascript$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'this code in javascript'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
</code></pre></div><ol start="2"><li><strong>第二题</strong></li></ol> <blockquote><p>仅匹配有边界的<code>code</code>单词</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bcode\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'bar code'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>

<span class="token operator">/</span>\bcode\b<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'barcode'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
</code></pre></div><ol start="3"><li><strong>第三题</strong></li></ol> <blockquote><p>匹配姓“李”的名字。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^李.+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'李逍遥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>

<span class="token operator">/</span><span class="token operator">^</span>李<span class="token punctuation">.</span><span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'慕容李逍遥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// false</span>

<span class="token comment">// &quot;李&quot; 左侧可以为空格不能为非空格字符</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;=</span><span class="token punctuation">[</span>\s<span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token operator">!</span>\<span class="token constant">S</span><span class="token punctuation">)</span>李<span class="token punctuation">.</span><span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'李逍遥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>
</code></pre></div><h3 id="匹配字符"><a href="#匹配字符" class="header-anchor">#</a> 匹配字符</h3> <p>接下来我们看下正则中可以匹配字符的方式：</p> <h4 id="字符"><a href="#字符" class="header-anchor">#</a> 字符</h4> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>字母、数字</td> <td>匹配字符本身。比如/javascript/，匹配 &quot;javascript&quot;；/123/，匹配 &quot;123&quot;。</td></tr> <tr><td>\0</td> <td>匹配 NUL 字符。</td></tr> <tr><td>\t</td> <td>匹配水平制表符。</td></tr> <tr><td>\v</td> <td>匹配垂直制表符。</td></tr> <tr><td>\n</td> <td>匹配换行符。</td></tr> <tr><td>\r</td> <td>匹配回车符。</td></tr> <tr><td>\f</td> <td>匹配换页符。</td></tr> <tr><td>\xnn</td> <td>匹配拉丁字符。比如 \xOA 等价于 \n。</td></tr> <tr><td>\uxxxx</td> <td>匹配 Unicode 字符。比如 \u2028 匹配行终止符，\u2029 匹配段终止符。</td></tr> <tr><td>\cX</td> <td>匹配 ctrl+X。比如 \cI 匹配 ctrl+I，等价于 \t。</td></tr> <tr><td>[\b]</td> <td>匹配 Backspace 键(特殊记忆)。</td></tr></tbody></table> <p>上面表格内的乍一看特别多，但是别怕，我们记住常见的匹配字母、数字、换行、回车 等等即可。
至此，你已经学废使用正则了，是不是很简单。别高兴的太早，我们还要进阶一下。</p> <h4 id="字符组"><a href="#字符组" class="header-anchor">#</a> 字符组</h4> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>[abc]</td> <td>匹配 &quot;a&quot;、&quot;b&quot;、&quot;c&quot; 其中任何一个字符。</td></tr> <tr><td>[a-d1-4]</td> <td>匹配 &quot;a&quot;、&quot;b&quot;、&quot;c&quot;、&quot;d&quot;、&quot;1&quot;、&quot;2&quot;、&quot;3&quot;、&quot;4&quot; 其中任何一个字符。</td></tr> <tr><td>[^abc]</td> <td>匹配除了 &quot;a&quot;、&quot;b&quot;、&quot;c&quot; 之外的任何一个字符。</td></tr> <tr><td>[^a-d1-4]</td> <td>匹配除了 &quot;a&quot;、&quot;b&quot;、&quot;c&quot;、&quot;d&quot;、&quot;1&quot;、&quot;2&quot;、&quot;3&quot;、&quot;4&quot; 之外的任何一个字符。</td></tr> <tr><td>.</td> <td>通配符，匹配除了少数字符(\n)之外的任意字符。</td></tr> <tr><td>\d</td> <td>匹配数字，等价于 [0-9]。</td></tr> <tr><td>\D</td> <td>匹配非数字，等价于 [^0-9]。</td></tr> <tr><td>\w</td> <td>匹配单词字符，等价于 [a-zA-Z0-9_]。</td></tr> <tr><td>\W</td> <td>匹配非单词字符，等价于 [^a-zA-Z0-9_]。</td></tr> <tr><td>\s</td> <td>匹配空白符，等价于 [ \t\v\n\r\f]。</td></tr> <tr><td>\S</td> <td>匹配非空白符，等价于 [^ \t\v\n\r\f]。</td></tr></tbody></table> <p><code>[...]</code>字符组语法类似 javascript 中的数组，可能有些小聪明会疑惑。简单的理解就是正则表达式会匹配<code>[...]</code>中的某个字符/表达式，相当于将字符组内的字符遍历匹配。<code>\d \D \w \W \s \S</code> 等都是一些简写，先记个大概以后熟能生巧。接下来看几个实例理解一下。</p> <ol><li><strong>第一题</strong></li></ol> <blockquote><p>使用字符组匹配 Javascript 和 javascript</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[Jj]avascript</span><span class="token regex-delimiter">/</span></span>

regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Javascript'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'javascript'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>
</code></pre></div><ol start="2"><li><strong>第二题</strong></li></ol> <blockquote><p>匹配“我爱你”或“我想你”或“我”+数字+“你”</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">我[\d爱想]你</span><span class="token regex-delimiter">/</span></span>

regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'我爱你'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'我想你'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'我打你'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// false</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'520, 我2你'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>
</code></pre></div><ol start="3"><li><strong>第三题</strong></li></ol> <blockquote><p>匹配爱后面不包含你的数据</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">我爱[^你]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'我爱你'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// false</span>
</code></pre></div><ol start="4"><li><strong>第四题</strong></li></ol> <blockquote><p>匹配数据所有的数字、小写字母和大写字母。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z0-9A-Z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>

<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span>\d<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'999'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>

<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span>\d<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>

<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span>\d<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'A4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
</code></pre></div><p>到目前为止，我们只是学习了关于仅出现一次的字符串匹配，在实际开发中，肯定不能满足需求，比如要匹配电话号码、身份证的时候就无法满足需求了。接下来我们看一下如何匹配多个重复类型的字符</p> <h4 id="量词"><a href="#量词" class="header-anchor">#</a> 量词</h4> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>{n,m}</td> <td>连续出现 n 到 m 次。贪婪模式。</td></tr> <tr><td>{n,}</td> <td>至少连续出现 n 次。贪婪模式。</td></tr> <tr><td>{n,}</td> <td>至少连续出现 n 次。贪婪模式。</td></tr> <tr><td>{n}</td> <td>连续出现 n 次。贪婪模式。</td></tr> <tr><td>?</td> <td>等价于 {0,1}。贪婪模式。</td></tr> <tr><td>+</td> <td>等价于 {1,}。贪婪模式。</td></tr> <tr><td>*</td> <td>等价于 {0,}。贪婪模式。</td></tr> <tr><td>{n,m}?</td> <td>连续出现 n 到 m 次。惰性模式。最多匹配到 n 个</td></tr> <tr><td>{n,}?</td> <td>至少连续出现 n 次。惰性模式。最多匹配到 n 个</td></tr> <tr><td>{n}?</td> <td>连续出现 n 次。惰性模式。</td></tr> <tr><td>??</td> <td>等价于 {0,1}?。惰性模式。</td></tr> <tr><td>+?</td> <td>等价于 {1,}?。惰性模式。</td></tr> <tr><td>*?</td> <td>等价于 {0,}?。惰性模式。</td></tr></tbody></table> <ul><li><strong>贪婪模式――在匹配成功的前提下，尽可能多的去匹配</strong></li> <li><strong>惰性模式――在匹配成功的前提下，尽可能少的去匹配</strong></li></ul> <p>这是小伙伴们肯定又有点懵逼，我知道你很急，但你先别急。<code>{n,m}</code>简单来说就是需要重复的次数，我们继续来举个栗子。</p> <ol><li><strong>第一题</strong></li></ol> <blockquote><p>匹配手机号码，假设手机号码规则如下：</p> <ul><li>必须是 11 位的数字；</li> <li>第一位数字必须以 1 开头，第二位数字可以是 [3,4,5,7,8] 中的任意一个，后面 9 个数是 [0-9] 中的任意一个数字。</li></ul></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[34578]\d{9}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'18711001111'</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'13712345678'</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'12345678911'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
</code></pre></div><h4 id="括号的作用"><a href="#括号的作用" class="header-anchor">#</a> 括号的作用</h4> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>(ab)</td> <td>捕获型分组。把 &quot;ab&quot; 当成一个整体，比如 (ab)+ 表示 &quot;ab&quot; 至少连续出现一次。</td></tr> <tr><td>(?:ab)</td> <td>非捕获型分组。与 (ab) 的区别是，它不捕获数据。</td></tr> <tr><td>(good|nice)</td> <td>捕获型分支结构。匹配 &quot;good&quot; 或 &quot;nice&quot;。</td></tr> <tr><td>(?:good|nice)</td> <td>非捕获型分支结构。与 (good|nice) 的区别是，它不捕获数据。</td></tr> <tr><td>\num</td> <td>反向引用。比如 \2，表示引用的是第二个括号里的捕获的数据。</td></tr></tbody></table> <p>括号主要是用来分组作用。同样的，我们举个栗子。</p> <ol><li><strong>第一题</strong></li></ol> <blockquote><p>视频文件的后缀名有 .mp4、.avi、.wmv、.rmvb
用正则表达式提取所有的视频文件的后缀</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.+(\.mp4|\.avi|\.wmv|\.rmvb)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'海贼王.avi'</span><span class="token punctuation">)</span>
<span class="token comment">// ['海贼王.avi', '.avi', index: 0, input: '海贼王.avi', groups: undefined]</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'朋友.mp3'</span><span class="token punctuation">)</span>
<span class="token comment">// null</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'学习资料.rmvb'</span><span class="token punctuation">)</span>
<span class="token comment">// ['学习资料.rmvb', '.rmvb', index: 0, input: '学习资料.rmvb', groups: undefined]</span>
</code></pre></div><h2 id="正则表达式相关-api"><a href="#正则表达式相关-api" class="header-anchor">#</a> 正则表达式相关 API</h2> <p>Javascript 中可以通过以下两种方式写正则:</p> <ol><li>正则表达式字面量</li> <li>通过构造函数 RegExp 的实例</li></ol> <p>例如，创建一个正则用于精确匹配字符串 'test'。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> regExp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">test</span><span class="token regex-delimiter">/</span></span>

<span class="token keyword">let</span> regExp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span> 
<span class="token comment">// 或者</span>
<span class="token keyword">let</span> regExp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">test</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
</code></pre></div><p>我们还可以在正则上添加一些修饰符，常见的修饰符如下</p> <h3 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h3> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>g</td> <td><strong>global 简写</strong>，全局匹配，找到所有满足匹配的子串，而不是默认只匹配首次结果。</td></tr> <tr><td>i</td> <td><strong>ignore case 简写</strong>，匹配过程中，忽略英文字母大小写，如 <code>/test/i</code> 可以匹配 Test、teSt、TesT 等。</td></tr> <tr><td>m</td> <td><strong>multiline 简写</strong>，多行匹配，把 ^ 和 $ 变成行开头和行结尾。比如可以匹配文本域(textarea)元素中的值。</td></tr> <tr><td>u</td> <td><strong>unicode 简写</strong>，允许使用 Unicode 点转义符。</td></tr> <tr><td>y</td> <td><strong>sticky 简写</strong>，开启粘连匹配，正则表达式执行粘连匹配时试图从最后一个匹配位置开始。</td></tr></tbody></table> <h3 id="regexp-相关实例方法"><a href="#regexp-相关实例方法" class="header-anchor">#</a> RegExp 相关实例方法</h3> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" target="_blank" rel="noopener noreferrer">test<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>判断目标字符串中是否有满足正则匹配的子串。返回布尔值。</td></tr> <tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec" target="_blank" rel="noopener noreferrer">exec<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>比 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank" rel="noopener noreferrer">match<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 更强大的正则匹配操作。如果正则表达式不包含 g 标志，<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank" rel="noopener noreferrer">str.match()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 将返回与 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec" target="_blank" rel="noopener noreferrer">RegExp.exec()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. 相同的结果。</td></tr></tbody></table> <p>以下是简单的用法，具体用法大伙可以上 mdn 查看相关资料。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">love*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'I love you, I love him'</span><span class="token punctuation">)</span>
<span class="token comment">// true</span>

<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">love*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'I love you, I love him'</span><span class="token punctuation">)</span>
<span class="token comment">// ['love', index: 2, input: 'I love you, I love hime', groups: undefined]</span>
</code></pre></div><h3 id="regexp-静态属性"><a href="#regexp-静态属性" class="header-anchor">#</a> RegExp 静态属性</h3> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>$1,...,$9</td> <td>最近一次第 1-9 个分组捕获的数据。</td></tr> <tr><td>input</td> <td>最近一次目标字符串，可以简写成 $_ 。</td></tr> <tr><td>lastMatch</td> <td>最近一次匹配的文本，可以简写成 $&amp; 。</td></tr> <tr><td>lastParen</td> <td>最近一次捕获的文本，可以简写成 $+ 。</td></tr> <tr><td>leftContext</td> <td>目标字符串中 lastMatch 之前的文本，可以简写成 $` 。</td></tr> <tr><td>rightContext</td> <td>目标字符串中 lastMatch 之后的文本，可以简写成 $' 。</td></tr></tbody></table> <h3 id="string-相关实例方法"><a href="#string-相关实例方法" class="header-anchor">#</a> String 相关实例方法</h3> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/search" target="_blank" rel="noopener noreferrer">search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>返回正则匹配到的第一个子串在目标字符串中的下标位置。</td></tr> <tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split" target="_blank" rel="noopener noreferrer">split<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>以正则匹配到的子串，对目标字符串进行切分。返回一个数组。</td></tr> <tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank" rel="noopener noreferrer">match<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>对目标字符串执行正则匹配操作，返回的匹配结果数组中包含具体的匹配信息。</td></tr></tbody></table> <ul><li>groups: 一个命名捕获组对象，其键是捕获组名称，值是捕获组，如果未定义命名捕获组，则为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer">undefined<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。有关详细信息，请参阅<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions/Groups_and_Backreferences" target="_blank" rel="noopener noreferrer">组和范围<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>index: 匹配的结果的开始位置</li> <li>input: 搜索的字符串。
|
| <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace" target="_blank" rel="noopener noreferrer">replace<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> | 对目标字符串进行替换操作。正则是其第一个参数。返回替换后的字符串。 |</li></ul> <h4 id="replace-第二个参数中的特殊字符"><a href="#replace-第二个参数中的特殊字符" class="header-anchor">#</a> replace 第二个参数中的特殊字符</h4> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>$1,$2,...,$99</td> <td>匹配第 1-99 个分组里捕获的文本</td></tr> <tr><td>$&amp;</td> <td>匹配到的子串文本</td></tr> <tr><td>$`</td> <td>匹配到的子串的左边文本</td></tr> <tr><td>$'</td> <td>匹配到的子串的右边文本</td></tr> <tr><td>$$</td> <td>美元符号</td></tr></tbody></table> <h4 id="replace-第二个参数为函数"><a href="#replace-第二个参数为函数" class="header-anchor">#</a> replace 第二个参数为函数</h4> <p>你可以指定一个函数作为第二个参数。在这种情况下，当匹配执行后，该函数就会执行。 函数的返回值作为替换字符串。 (注意：上面提到的特殊替换参数在这里不能被使用。) 另外要注意的是，如果第一个参数是正则表达式，并且其为全局匹配模式，那么这个方法将被多次调用，每次匹配都会被调用。</p> <table><thead><tr><th>变量名</th> <th>代表的值</th></tr></thead> <tbody><tr><td>match</td> <td>匹配的子串。（对应于上述的$&amp;。）</td></tr> <tr><td><code>p1,p2, ...</code></td> <td>假如 replace() 方法的第一个参数是一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer">RegExp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 对象，则代表第 n 个括号匹配的字符串。（对应于上述的$1，$2 等。）例如，如果是用 /(\a+)(\b+)/ 这个来匹配，p1 就是匹配的 \a+，p2 就是匹配的 \b+。</td></tr> <tr><td><code>offset</code></td> <td>匹配到的子字符串在原字符串中的偏移量。（比如，如果原字符串是 'abcd'，匹配到的子字符串是 'bc'，那么这个参数将会是 1）</td></tr> <tr><td><code>string</code></td> <td>被匹配的原字符串。</td></tr> <tr><td>NamedCaptureGroup</td> <td>命名捕获组匹配的对象</td></tr></tbody></table> <h2 id="小试牛刀"><a href="#小试牛刀" class="header-anchor">#</a> 小试牛刀</h2> <h3 id="第一题"><a href="#第一题" class="header-anchor">#</a> 第一题</h3> <blockquote><p>匹配所有符合 XML 规则的标签</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(\w+)&gt;.+&lt;\/(\1)&gt;</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'&lt;div&gt;code&lt;/div&gt;'</span><span class="token punctuation">)</span>		<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'&lt;span&gt;I Love U&lt;/span&gt;'</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'&lt;h1&gt;This is title&lt;/p&gt;'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'&lt;p&gt;&lt;/p&gt;'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
</code></pre></div><p>还是比较简单的，主要是用到了括号捕获 <code>&lt;&gt;</code> 中的单词，注意 <code>/</code>为关键字，需要用 <code>\</code>转义。</p> <h3 id="第二题"><a href="#第二题" class="header-anchor">#</a> 第二题</h3> <blockquote><p>请用正则表达式匹配所有的小数</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;!\.)\d+\.\d+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// const regex = new RegExp(/^\d+(?&lt;=\d)\.\d+$/);</span>

regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>		<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1.30</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">13.14</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'1.3.1.4'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>			<span class="token comment">// false</span>
</code></pre></div><p><code>(?&lt;!\.)</code>反向后行断言，匹配一个位置其左边不为“.”；接着 <code>\d+\.\d+</code>匹配一位以上的数字 + “.” + 一位以上的数字。</p> <h3 id="第三题"><a href="#第三题" class="header-anchor">#</a> 第三题</h3> <blockquote><p>提取下列数据中所有人的生日，使用两个分组，第一个分组提取“月”，第二个分组提取“日”。
王伟 1993年<strong>1月2</strong>日
张伟 1996.<strong>8.24</strong>
李伟 1996.<strong>3.21</strong>
李秀 1994-<strong>7-5</strong></p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">((?&lt;=[年.-])\d{1,2})[月.-](\d{1,2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'王伟 1993年1月2日'</span><span class="token punctuation">)</span>
<span class="token comment">// ['1月2', '1', '2', index: 8, input: '王伟 1993年1月2日', groups: undefined]</span>

regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'李伟 1996.3.21'</span><span class="token punctuation">)</span>
<span class="token comment">// ['3.21', '3', '21', index: 8, input: '李伟 1996.3.21', groups: undefined]</span>
</code></pre></div><p>主要还是 <code>(?&lt;=[年.-])</code>反向先行断言，匹配一个位置其左边为 <code>[年.-]</code> 中的一个，其余的就比较容易理解了，最后用 <code>exec</code> 提取捕获组即可。</p> <h3 id="第四题"><a href="#第四题" class="header-anchor">#</a> 第四题</h3> <blockquote><p>编写正则表达式进行密码强度的验证，规则如下：</p> <ul><li>至少一个大写字母</li> <li>至少一个小写字母</li> <li>至少一个数字</li> <li>至少 8 个字符</li></ul></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9]).{8,}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'123456789'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'12ABab'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'12345ABCabc'</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ADMIN1234()'</span><span class="token punctuation">)</span>	<span class="token comment">// false</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Hmm5201314'</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
</code></pre></div><p>这段正则看着非常长，其实都是重复的逻辑，我们来拆解一下: <code>(?=.*?[a-z])</code> 这段正则表达式规定了匹配的字符串中必须存在一个右边为任意字符和小写字母的位置，<code>(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])</code>那这一整串连起来就是必须存在小写、大写、数字。</p> <h3 id="第五题"><a href="#第五题" class="header-anchor">#</a> 第五题</h3> <blockquote><p>实现一个模板引擎，能够满足如下场景使用
let template = '我是，年龄，性别';
let data = {
name: '姓名',
age: 18
}
render(template, data);	 // 我是姓名，年龄18，性别undefined</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">template<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> template <span class="token operator">!==</span> <span class="token string">'string'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
	<span class="token keyword">return</span> template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">{{(.*?)}}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> $1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> data<span class="token punctuation">[</span>$1<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最后这题没啥难度，主要是理解捕获组和字符串的 replace 方法就能解决了。</p> <h3 id="第六题"><a href="#第六题" class="header-anchor">#</a> 第六题</h3> <blockquote><p>写一个方法把下划线命名转成大驼峰命名</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">strToCamel</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^|_)(\w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span> $1<span class="token punctuation">,</span> $2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> $2<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>同上题，巩固一下凑个数而已 (^0^)。</p> <h2 id="结束语"><a href="#结束语" class="header-anchor">#</a> 结束语</h2> <p>老铁们，学废了吗？</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/space/blog/13.html" class="prev">
        🐯好让人傻傻分不清—CSS篇
      </a></span> <span class="next"><a href="/space/blog/11.html">
        来用Vite+React快速开发浏览器插件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/space/assets/js/app.c334109e.js" defer></script><script src="/space/assets/js/2.733019b2.js" defer></script><script src="/space/assets/js/13.e25e3787.js" defer></script>
  </body>
</html>
